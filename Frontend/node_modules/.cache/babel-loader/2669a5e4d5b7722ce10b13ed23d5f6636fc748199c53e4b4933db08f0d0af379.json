{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{useNavigate}from'react-router-dom';import AlertContext from'../Context/alert/AlertContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var host='http://localhost:5000';var _useContext=useContext(AlertContext),showAlert=_useContext.showAlert;var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),credential=_useState2[0],setCredential=_useState2[1];var navigate=useNavigate();var onChange=function onChange(e){setCredential(_objectSpread(_objectSpread({},credential),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// API Call for login authentication\n_context.next=3;return fetch(\"\".concat(host,\"/api/auth/login\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:credential.email,password:credential.password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:json=_context.sent;console.log(json);if(json.Success){showAlert(\"Loged-in Successfully\",\"success\");localStorage.setItem('token',json.authToken);navigate('/');}else{// alert(\"Invalid credentials\")\nshowAlert(\"Please enter correct credentials\",\"danger\");}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login to Enotebook\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"exampleInputEmail1\",name:\"email\",\"aria-describedby\":\"email\",placeholder:\"Enter email\",autoComplete:\"off\",value:credential.email,onChange:onChange}),/*#__PURE__*/_jsx(\"small\",{id:\"email\",className:\"form-text text-muted my-2\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group my-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",placeholder:\"Password\",autoComplete:\"off\",value:credential.password,onChange:onChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary my-2\",children:\"Submit\"})]})]});};export default Login;","map":{"version":3,"names":["React","useContext","useState","useNavigate","AlertContext","Login","props","host","showAlert","email","password","credential","setCredential","navigate","onChange","e","target","name","value","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","console","log","Success","localStorage","setItem","authToken"],"sources":["C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/src/components/Login.js"],"sourcesContent":["import React,{useContext, useState} from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport AlertContext from '../Context/alert/AlertContext'\r\n\r\nconst Login = (props) => {\r\n\r\n    const host = 'http://localhost:5000'\r\n    const {showAlert} = useContext(AlertContext)\r\n    const [credential,setCredential] = useState({email:\"\",password:\"\"});\r\n    let navigate = useNavigate();\r\n\r\n    const onChange=(e)=>{\r\n        setCredential({...credential, [e.target.name]: e.target.value});\r\n    }\r\n\r\n    const handleSubmit=async (e)=>{\r\n\r\n        e.preventDefault()\r\n\r\n        // API Call for login authentication\r\n        const response = await fetch(`${host}/api/auth/login`, {\r\n            method: 'POST',\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({email:credential.email, password:credential.password })\r\n        });\r\n        const json = await response.json();\r\n        console.log(json)\r\n        if(json.Success) {\r\n            showAlert(\"Loged-in Successfully\", \"success\")\r\n            localStorage.setItem('token',json.authToken)\r\n            navigate('/')\r\n        }   \r\n        else{\r\n            // alert(\"Invalid credentials\")\r\n            showAlert(\"Please enter correct credentials\", \"danger\")\r\n        }\r\n    }\r\n    return (\r\n        <div className='container my-4'>\r\n            <h2>Login to Enotebook</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"form-group my-4\">\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" name='email' aria-describedby=\"email\" placeholder=\"Enter email\" autoComplete='off' value={credential.email} onChange={onChange}/>\r\n                    <small id=\"email\" className=\"form-text text-muted my-2\">We'll never share your email with anyone else.</small>\r\n                </div>\r\n                <div className=\"form-group my-4\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input type=\"password\" className=\"form-control\" id=\"password\" name='password' placeholder=\"Password\" autoComplete='off'value={credential.password}  onChange={onChange}/>\r\n                </div>\r\n                <button type=\"submit\" className=\"btn btn-primary my-2\">Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"],"mappings":"qvBAAA,MAAOA,MAAK,EAAEC,UAAU,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,aAAY,KAAM,+BAA+B,yFAExD,GAAMC,MAAK,CAAG,QAARA,MAAK,CAAIC,KAAK,CAAK,CAErB,GAAMC,KAAI,CAAG,uBAAuB,CACpC,gBAAoBN,UAAU,CAACG,YAAY,CAAC,CAArCI,SAAS,aAATA,SAAS,CAChB,cAAmCN,QAAQ,CAAC,CAACO,KAAK,CAAC,EAAE,CAACC,QAAQ,CAAC,EAAE,CAAC,CAAC,wCAA5DC,UAAU,eAACC,aAAa,eAC/B,GAAIC,SAAQ,CAAGV,WAAW,EAAE,CAE5B,GAAMW,SAAQ,CAAC,QAATA,SAAQ,CAAEC,CAAC,CAAG,CAChBH,aAAa,gCAAKD,UAAU,wBAAGI,CAAC,CAACC,MAAM,CAACC,IAAI,CAAGF,CAAC,CAACC,MAAM,CAACE,KAAK,GAAE,CACnE,CAAC,CAED,GAAMC,aAAY,4FAAC,iBAAOJ,CAAC,qIAEvBA,CAAC,CAACK,cAAc,EAAE,CAElB;AAAA,sBACuBC,MAAK,WAAId,IAAI,oBAAmB,CACnDe,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACT,cAAc,CAAE,kBAChB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACjB,KAAK,CAACE,UAAU,CAACF,KAAK,CAAEC,QAAQ,CAACC,UAAU,CAACD,QAAS,CAAC,CAChF,CAAC,CAAC,QANIiB,QAAQ,qCAOKA,SAAQ,CAACC,IAAI,EAAE,QAA5BA,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjB,GAAGA,IAAI,CAACG,OAAO,CAAE,CACbvB,SAAS,CAAC,uBAAuB,CAAE,SAAS,CAAC,CAC7CwB,YAAY,CAACC,OAAO,CAAC,OAAO,CAACL,IAAI,CAACM,SAAS,CAAC,CAC5CrB,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,IACG,CACA;AACAL,SAAS,CAAC,kCAAkC,CAAE,QAAQ,CAAC,CAC3D,CAAC,qDACJ,kBAvBKW,aAAY,4CAuBjB,CACD,mBACI,aAAK,SAAS,CAAC,gBAAgB,wBAC3B,oBAAI,oBAAkB,EAAK,cAC3B,cAAM,QAAQ,CAAEA,YAAa,wBACzB,aAAK,SAAS,CAAC,iBAAiB,wBAC5B,cAAO,OAAO,CAAC,OAAO,UAAC,eAAa,EAAQ,cAC5C,cAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAiB,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,CAAER,UAAU,CAACF,KAAM,CAAC,QAAQ,CAAEK,QAAS,EAAE,cACtM,cAAO,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,2BAA2B,UAAC,gDAA8C,EAAQ,GAC5G,cACN,aAAK,SAAS,CAAC,iBAAiB,wBAC5B,cAAO,OAAO,CAAC,UAAU,UAAC,UAAQ,EAAQ,cAC1C,cAAO,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,YAAY,CAAC,KAAK,MAAK,CAAEH,UAAU,CAACD,QAAS,CAAE,QAAQ,CAAEI,QAAS,EAAE,GACvK,cACN,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,sBAAsB,UAAC,QAAM,EAAS,GACnE,GACL,CAEd,CAAC,CAED,cAAeT,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}