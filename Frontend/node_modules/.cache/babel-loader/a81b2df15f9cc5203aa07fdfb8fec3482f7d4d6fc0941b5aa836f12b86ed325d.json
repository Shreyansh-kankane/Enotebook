{"ast":null,"code":"import _defineProperty from\"C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useRef,useState}from'react';import NoteContext from\"../Context/notes/NoteContext\";import AlertContext from'../Context/alert/AlertContext';import Noteitem from'./Noteitem';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Notes=function Notes(){var _useContext=useContext(NoteContext),notes=_useContext.notes,getNotes=_useContext.getNotes,editnote=_useContext.editnote;var _useContext2=useContext(AlertContext),showAlert=_useContext2.showAlert;var navigate=useNavigate();useEffect(function(){if(localStorage.getItem('token')){getNotes();}else{navigate('/login');}// eslint-disable-next-line\n},[]);var ref=useRef(null);var closeRef=useRef(null);var _useState=useState({id:\"\",etitle:\"\",edescription:\"\",etag:\"\"}),_useState2=_slicedToArray(_useState,2),enote=_useState2[0],esetNote=_useState2[1];var updateNote=function updateNote(currentNote){esetNote({id:currentNote._id,etitle:currentNote.title,edescription:currentNote.description,etag:currentNote.tag});ref.current.click();};var handleUpdClick=function handleUpdClick(e){// console.log(\"Updating the note...\",enote);\nshowAlert(\"Note updated successfully\",\"success\");e.preventDefault();editnote(enote.id,enote.etitle,enote.edescription,enote.etag);closeRef.current.click();};var onChange=function onChange(e){esetNote(_objectSpread(_objectSpread({},enote),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{ref:ref,type:\"button\",className:\"btn btn-primary d-none\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"my-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etitle\",name:\"etitle\",value:enote.etitle,\"aria-describedby\":\"emailHelp\",onChange:onChange,autoComplete:\"off\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"edescription\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"edescription\",name:\"edescription\",value:enote.edescription,onChange:onChange,autoComplete:\"off\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"etag\",name:\"etag\",value:enote.etag,onChange:onChange,autoComplete:\"off\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{ref:closeRef,type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{disabled:enote.etitle.length<3||enote.edescription.length<5,onClick:handleUpdClick,type:\"button\",className:\"btn btn-primary\",children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Notes\"}),notes.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:\"No Notes to display\"}),notes.map(function(note){return/*#__PURE__*/_jsx(Noteitem,{note:note,updateNote:updateNote},note._id);})]})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","NoteContext","AlertContext","Noteitem","useNavigate","Notes","notes","getNotes","editnote","showAlert","navigate","localStorage","getItem","ref","closeRef","id","etitle","edescription","etag","enote","esetNote","updateNote","currentNote","_id","title","description","tag","current","click","handleUpdClick","e","preventDefault","onChange","target","name","value","length","map","note"],"sources":["C:/Users/shrey/OneDrive/Desktop/Learn-React/Inotebook/Frontend/src/components/Notes.js"],"sourcesContent":["import React, {useContext,useEffect,useRef,useState} from 'react'\r\nimport NoteContext from \"../Context/notes/NoteContext\"\r\nimport AlertContext from '../Context/alert/AlertContext';\r\nimport Noteitem from './Noteitem';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Notes = () => {\r\n\r\n    const {notes,getNotes,editnote} = useContext(NoteContext);\r\n    const {showAlert} = useContext(AlertContext);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem('token')){\r\n            getNotes();\r\n        }\r\n        else{\r\n            navigate('/login')\r\n        }\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const ref = useRef(null);\r\n    const closeRef = useRef(null);\r\n\r\n    const [enote, esetNote] = useState({id:\"\", etitle: \"\", edescription: \"\", etag: \"\"});\r\n    const updateNote = (currentNote) => {\r\n        esetNote({id:currentNote._id, etitle: currentNote.title, edescription: currentNote.description, etag:currentNote.tag})\r\n        ref.current.click();\r\n    };\r\n    const handleUpdClick = (e)=>{\r\n        // console.log(\"Updating the note...\",enote);\r\n        showAlert(\"Note updated successfully\",\"success\")\r\n        e.preventDefault(); \r\n        editnote(enote.id,enote.etitle,enote.edescription,enote.etag);\r\n        closeRef.current.click();\r\n    };\r\n    const onChange = (e)=>{\r\n        esetNote({...enote, [e.target.name]: e.target.value})\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <button ref={ref} type=\"button\" className=\"btn btn-primary d-none\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                Launch modal\r\n            </button>\r\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Edit Note</h5>\r\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <form className=\"my-3\">\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"etitle\" className=\"form-label\">Title</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"etitle\" name=\"etitle\" value={enote.etitle} aria-describedby=\"emailHelp\" onChange={onChange} autoComplete=\"off\"/>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"edescription\" className=\"form-label\">Description</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"edescription\" name=\"edescription\" value={enote.edescription} onChange={onChange} autoComplete=\"off\"/>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"etag\" className=\"form-label\">Tag</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"etag\" name=\"etag\" value={enote.etag} onChange={onChange} autoComplete=\"off\"/>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button ref={closeRef} type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button  disabled={enote.etitle.length<3 || enote.edescription.length<5} onClick={handleUpdClick} type=\"button\" className=\"btn btn-primary\">Update Note</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        <div className=\"row my-3\">\r\n            <h2>Your Notes</h2>\r\n            {notes.length===0 && <div className='container'>\r\n                No Notes to display\r\n            </div>}\r\n            {notes.map((note)=>{\r\n                return <Noteitem key={note._id} note={note} updateNote={updateNote}/>  \r\n            })}\r\n        </div>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Notes"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}